[{"/home/hp/Desktop/whack a mole/whack_a_mole/src/index.js":"1","/home/hp/Desktop/whack a mole/whack_a_mole/src/reportWebVitals.js":"2","/home/hp/Desktop/whack a mole/whack_a_mole/src/App.js":"3","/home/hp/Desktop/whack a mole/whack_a_mole/src/components/Button/index.js":"4","/home/hp/Desktop/whack a mole/whack_a_mole/src/pages/Home.js":"5","/home/hp/Desktop/whack a mole/whack_a_mole/src/pages/Game.js":"6","/home/hp/Desktop/whack a mole/whack_a_mole/src/pages/Score.js":"7","/home/hp/Desktop/whack a mole/whack_a_mole/src/firebase.js":"8"},{"size":500,"mtime":1608980820424,"results":"9","hashOfConfig":"10"},{"size":362,"mtime":1608978393629,"results":"11","hashOfConfig":"10"},{"size":495,"mtime":1609015989888,"results":"12","hashOfConfig":"10"},{"size":280,"mtime":1609008825117,"results":"13","hashOfConfig":"10"},{"size":1558,"mtime":1609016449006,"results":"14","hashOfConfig":"10"},{"size":3376,"mtime":1609016068986,"results":"15","hashOfConfig":"10"},{"size":2075,"mtime":1609014867614,"results":"16","hashOfConfig":"10"},{"size":448,"mtime":1609015864756,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1qd4q4f",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"/home/hp/Desktop/whack a mole/whack_a_mole/src/index.js",[],["36","37"],"/home/hp/Desktop/whack a mole/whack_a_mole/src/reportWebVitals.js",[],"/home/hp/Desktop/whack a mole/whack_a_mole/src/App.js",[],"/home/hp/Desktop/whack a mole/whack_a_mole/src/components/Button/index.js",[],"/home/hp/Desktop/whack a mole/whack_a_mole/src/pages/Home.js",[],"/home/hp/Desktop/whack a mole/whack_a_mole/src/pages/Game.js",["38","39"],"import React, { useState, useEffect, useRef } from 'react'\nimport { firebaseDB } from '../firebase'\nimport Button from '../components/Button';\n\nconst Game = (props) => {\n    let timeout;\n    let totalHoles = [1, 2, 3, 4, 5, 6]\n    const [score, setScore] = useState(0)\n    const [totalCount, setTotalCount] = useState(0)\n    const [moleHolePosition, setMoleHolePosition] = useState(0)\n    const [lastHole, setLastHole] = useState(0)\n    const timeUp = useRef(false);\n    // const totalmiss = useRef(0);\n    const randomTime = (min, max) => {\n        return Math.round(Math.random() * (max - min) + min);\n    }\n\n    const randomHole = () => {\n        let newHole = Math.floor(Math.random() * totalHoles.length);\n        if (lastHole === newHole) {\n            console.log('Ah nah thats the same hole');\n            return randomHole();\n        }\n        setLastHole(newHole)\n        return newHole\n    }\n\n    const startGame = () => {\n        timeUp.current = false;\n        peep();\n    }\n\n    const peep = async () => {\n        const time = randomTime(800, 1500);\n        const hole = randomHole()\n        setMoleHolePosition(hole)\n        timeout = setTimeout(() => {\n            if (!timeUp.current) peep();\n        }, time)\n    }\n\n    const bonk = (e) => {\n        if (!e.isTrusted) return;\n        e.target.parentNode.classList.remove('up');\n        setScore(prevScore => prevScore + 1);\n    }\n\n    useEffect(() => {\n        if (!localStorage.getItem(\"playerName\")) {\n            props.history.push(\"/\")\n            return;\n        }\n        const moles = document.querySelectorAll('.mole');\n        moles.forEach(mole => mole.addEventListener('click', bonk))\n        startGame()\n\n        return () => clearTimeout(timeout)\n\n    }, [])\n\n    useEffect(() => {\n        if (totalCount - score > 5) {\n            timeUp.current = true\n            setMoleHolePosition(null)\n            firebaseDB.ref(`players/${localStorage.getItem(\"playerName\")}`).set({ score }).then(res => {\n                console.log(\"playerName\", localStorage.getItem(\"playerName\"))\n                localStorage.removeItem(\"playerName\")\n            }).catch(err => console.log(\"error\", err))\n            return () => {\n                clearTimeout(timeout)\n            }\n        }\n        setTotalCount(prevCount => prevCount + 1)\n    }, [moleHolePosition])\n\n    if (!localStorage.getItem(\"playerName\")) {\n        console.log(\"playerName\", localStorage.getItem(\"playerName\"))\n        return <h1>Loading!!!</h1>\n    }\n\n    return !timeUp.current ? (\n        <div>\n            <h1>Whack-a-mole! <span className=\"score\">{score}</span></h1>\n            <div className=\"game\">\n\n                {totalHoles.map((item, i) => {\n                    return (\n                        <div className={`hole ${moleHolePosition === item ? 'up' : ''}`} key={i}>\n                            <div className=\"mole\"></div>\n                        </div>\n                    )\n                })}\n            </div>\n        </div>\n    )\n        : (\n            <div className=\"container\">\n                <h1>Game Over!!! <br /> <span className=\"score\"> Total Score: {score}</span>\n                    <div>\n                        <Button onClick={() => props.history.push('/')} className=\"btn-default\">Go back</Button>\n                    </div>\n                </h1>\n            </div>\n        )\n\n}\n\nexport default Game\n","/home/hp/Desktop/whack a mole/whack_a_mole/src/pages/Score.js",[],"/home/hp/Desktop/whack a mole/whack_a_mole/src/firebase.js",[],{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","severity":1,"message":"45","line":59,"column":8,"nodeType":"46","endLine":59,"endColumn":10,"suggestions":"47"},{"ruleId":"44","severity":1,"message":"48","line":74,"column":8,"nodeType":"46","endLine":74,"endColumn":26,"suggestions":"49"},"no-native-reassign",["50"],"no-negated-in-lhs",["51"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'props.history', 'startGame', and 'timeout'. Either include them or remove the dependency array.","ArrayExpression",["52"],"React Hook useEffect has missing dependencies: 'score', 'timeout', and 'totalCount'. Either include them or remove the dependency array.",["53"],"no-global-assign","no-unsafe-negation",{"desc":"54","fix":"55"},{"desc":"56","fix":"57"},"Update the dependencies array to be: [props.history, startGame, timeout]",{"range":"58","text":"59"},"Update the dependencies array to be: [moleHolePosition, score, timeout, totalCount]",{"range":"60","text":"61"},[1736,1738],"[props.history, startGame, timeout]",[2311,2329],"[moleHolePosition, score, timeout, totalCount]"]